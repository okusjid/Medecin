{% extends "base_generic.html" %}

{% block title %}
    Update Appointment
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8">
    <h2 class="text-2xl font-bold mb-4">Update Appointment</h2>
    
    <form method="POST">
        {% csrf_token %}
        
        <div class="mb-4">
            <label for="patient">Patient:</label>
            <select id="patient" name="patient" class="border border-gray-300 rounded px-4 py-2">
                {% for patient in patients %}
                    <option value="{{ patient.id }}" {% if patient.id == appointment.patient.id %}selected{% endif %}>
                        {{ patient.user.username }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-4">
            <label for="doctor">Doctor:</label>
            <select id="doctor" name="doctor" class="border border-gray-300 rounded px-4 py-2">
                {% for doctor in doctors %}
                    <option value="{{ doctor.id }}" {% if doctor.id == appointment.doctor.id %}selected{% endif %}>
                        {{ doctor.user.username }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-4">
            <label for="scheduled_at">Scheduled At:</label>
            <input type="datetime-local" id="scheduled_at" name="scheduled_at" value="{{ appointment.scheduled_at|date:'Y-m-dTH:i' }}" class="border border-gray-300 rounded px-4 py-2" required>
        </div>
        
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
            Update Appointment
        </button>
    </form>
</div>
{% endblock %}
